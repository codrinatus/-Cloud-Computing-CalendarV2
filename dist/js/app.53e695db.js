(function(){"use strict";var e={125:function(e,t,n){var o=n(963),a=n(252);const r={id:"app"};function l(e,t,n,o,l,c){const s=(0,a.up)("ResourceCalendar");return(0,a.wg)(),(0,a.iD)("div",r,[(0,a.Wm)(s)])}const c={class:"wrap"},s={class:"left"},i={class:"content"};function d(e,t,n,o,r,l){const d=(0,a.up)("DayPilotNavigator"),u=(0,a.up)("DayPilotCalendar");return(0,a.wg)(),(0,a.iD)("div",c,[(0,a._)("div",s,[(0,a.Wm)(d,{id:"nav",config:o.navigatorConfig,ref:"navigator"},null,8,["config"])]),(0,a._)("div",i,[(0,a.Wm)(u,{id:"dp",config:o.calendarConfig,ref:"calendar"},null,8,["config"])])])}var u=n(262),v=n(151),p=n(154),f={name:"ResourceCalendar",components:{DayPilotCalendar:v.DayPilotCalendar,DayPilotNavigator:v.DayPilotNavigator},setup(){const e=(0,u.iH)(null),t=(0,u.iH)(null),n=(0,u.qj)({selectedDay:"2023-08-01"}),o={showMonths:3,skipMonths:3,selectMode:"Day",startDate:n.selectedDay,selectionDay:n.selectedDay,onTimeRangeSelected:e=>{n.selectedDay=e.day,console.log(n.selectedDay),c(n.selectedDay),r.startDate=e.day,r.selectionDay=e.day}},r={viewType:"Resources",startDate:n.selectedDay,timeRangeSelectedHandling:"Enabled",onTimeRangeSelected:async t=>{await d(t.start,t.end,t.resource),e.value.control.clearSelection()},onEventClick:e=>{const t=new v.DayPilot.Menu({items:[{text:"Edit",onClick:()=>i(e.e)},{text:"Delete",onClick:()=>l(e.e)}]});t.show(e.originalEvent)},eventDeleteHandling:"Enabled",onEventMoved:e=>{i(e.e),console.log("Event moved",e.e)},onEventResized:e=>{console.log("Event resized",e.e)}},l=t=>{p.Z.post("https://calendarproj.azurewebsites.net/delete",t.data).then((n=>{200===n.status?(console.log("Event deleted",t),e.value.control.events.remove(t)):console.log("Event delete failed",t)})).catch((e=>{console.log(e)}))},c=n=>{console.log(n),p.Z.get("https://calendarproj.azurewebsites.net/api/default",{params:{day:n}}).then((n=>{const o=n.data;console.log(n);const a=o.map((e=>({id:e.id,start:e.start,end:e.end,resource:e.resource,text:e.text,barColor:"#38761d"})));console.log("Events loaded",a),e.value.control.update({events:a}),t.value.control.update({events:a})})).catch((e=>{console.log(e)}))},s=()=>{const t=[{name:"Room 1",id:"R1"},{name:"Room 2",id:"R2"},{name:"Room 3",id:"R3"}];e.value.control.update({columns:t})},i=async t=>{const n=[{name:"Text",id:"text"},{name:"Start",id:"start",type:"datetime",disabled:!0},{name:"End",id:"end",type:"datetime",disabled:!0},{name:"Room",id:"resource",type:"select",options:e.value.control.columns.list}],o=t.data;console.log(t);const a=await v.DayPilot.Modal.form(n,o);a.canceled||p.Z.post("https://calendarproj.azurewebsites.net/update",a.result).then((t=>{200===t.status?(console.log("Event updated",a.result),e.value.control.events.update(a.result)):console.log("Event update failed",o)})).catch((e=>{console.log(e)}))},d=async(t,n,o)=>{const a=[{name:"Text",id:"text"},{name:"Start",id:"start",type:"datetime",disabled:!0},{name:"End",id:"end",type:"datetime",disabled:!0},{name:"Room",id:"resource",type:"select",options:e.value.control.columns.list}],r={start:t,end:n,resource:o,id:v.DayPilot.guid()},l=await v.DayPilot.Modal.form(a,r);if(l.canceled)return;const c=l.result;p.Z.post("https://calendarproj.azurewebsites.net/api/add",c).then((t=>{200===t.status?(console.log("Event created",c),e.value.control.events.add(c)):console.log("Event creation failed",c)})).catch((e=>{console.log(e)}))};return(0,a.bv)((()=>{s(),c()})),{navigatorConfig:o,calendarConfig:r,calendar:e,navigator:t,loadEvents:c,loadResources:s,editEvent:i,createEvent:d}}},g=n(744);const m=(0,g.Z)(f,[["render",d]]);var y=m,h={name:"app",components:{ResourceCalendar:y}};const b=(0,g.Z)(h,[["render",l]]);var D=b;(0,o.ri)(D).mount("#app")}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}n.m=e,function(){var e=[];n.O=function(t,o,a,r){if(!o){var l=1/0;for(d=0;d<e.length;d++){o=e[d][0],a=e[d][1],r=e[d][2];for(var c=!0,s=0;s<o.length;s++)(!1&r||l>=r)&&Object.keys(n.O).every((function(e){return n.O[e](o[s])}))?o.splice(s--,1):(c=!1,r<l&&(l=r));if(c){e.splice(d--,1);var i=a();void 0!==i&&(t=i)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[o,a,r]}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var a,r,l=o[0],c=o[1],s=o[2],i=0;if(l.some((function(t){return 0!==e[t]}))){for(a in c)n.o(c,a)&&(n.m[a]=c[a]);if(s)var d=s(n)}for(t&&t(o);i<l.length;i++)r=l[i],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(d)},o=self["webpackChunkvue_resource_calendar"]=self["webpackChunkvue_resource_calendar"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(125)}));o=n.O(o)})();
//# sourceMappingURL=app.53e695db.js.map